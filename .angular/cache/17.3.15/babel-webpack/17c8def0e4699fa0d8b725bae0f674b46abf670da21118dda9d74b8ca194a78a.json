{"ast":null,"code":"import _asyncToGenerator from \"/home/nigel/work/safe-space/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, sendPasswordResetEmail } from 'firebase/auth';\nimport { from, BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let AuthenticationService = /*#__PURE__*/(() => {\n  class AuthenticationService {\n    auth;\n    currentUserSubject = (() => new BehaviorSubject(null))();\n    currentUser$ = this.currentUserSubject.asObservable();\n    constructor(auth) {\n      this.auth = auth;\n      // Initialize the current user from the auth state\n      onAuthStateChanged(this.auth, user => {\n        this.currentUserSubject.next(user);\n      });\n    }\n    isAuthenticated() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        return new Promise(resolve => {\n          onAuthStateChanged(_this.auth, user => {\n            resolve(!!user);\n          });\n        });\n      })();\n    }\n    registerUser(value) {\n      return from(createUserWithEmailAndPassword(this.auth, value.email, value.password));\n    }\n    login(value) {\n      return from(signInWithEmailAndPassword(this.auth, value.email, value.password));\n    }\n    logoutUser() {\n      return from(signOut(this.auth));\n    }\n    userDetails() {\n      return this.currentUser$;\n    }\n    currentUserWithScope() {\n      return this.auth.currentUser;\n    }\n    resetPassword(email) {\n      return from(sendPasswordResetEmail(this.auth, email));\n    }\n    static ɵfac = function AuthenticationService_Factory(t) {\n      return new (t || AuthenticationService)(i0.ɵɵinject('auth'));\n    };\n    static ɵprov = (() => /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthenticationService,\n      factory: AuthenticationService.ɵfac,\n      providedIn: 'root'\n    }))();\n  }\n  return AuthenticationService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}