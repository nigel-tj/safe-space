{"ast":null,"code":"import _asyncToGenerator from \"/home/nigel/work/safe-space/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/forms\";\nexport class SupportPage {\n  alertCtrl;\n  toastCtrl;\n  submitted = false;\n  supportMessage;\n  constructor(alertCtrl, toastCtrl) {\n    this.alertCtrl = alertCtrl;\n    this.toastCtrl = toastCtrl;\n  }\n  ionViewDidEnter() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this.toastCtrl.create({\n        message: 'This does not actually send a support request.',\n        duration: 3000\n      });\n      yield toast.present();\n    })();\n  }\n  submit(form) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.submitted = true;\n      if (form.valid) {\n        _this2.supportMessage = '';\n        _this2.submitted = false;\n        const toast = yield _this2.toastCtrl.create({\n          message: 'Your support request has been sent.',\n          duration: 3000\n        });\n        yield toast.present();\n      }\n    })();\n  }\n  static ɵfac = function SupportPage_Factory(t) {\n    return new (t || SupportPage)(i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i1.ToastController));\n  };\n  static ɵcmp = (() => /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SupportPage,\n    selectors: [[\"page-support\"]],\n    decls: 23,\n    vars: 2,\n    consts: [[\"submitForm\", \"ngForm\"], [\"supportQuestion\", \"ngModel\"], [\"slot\", \"start\"], [1, \"support-logo\"], [\"src\", \"assets/img/appicon.svg\", \"alt\", \"Ionic Logo\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"lines\", \"none\"], [\"position\", \"stacked\", \"color\", \"primary\"], [\"name\", \"supportQuestion\", \"rows\", \"6\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"color\", \"danger\"], [1, \"ion-padding-start\", 3, \"hidden\"], [1, \"ion-padding\"], [\"expand\", \"block\", \"type\", \"submit\"]],\n    template: function SupportPage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 2);\n        i0.ɵɵelement(3, \"ion-menu-button\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Support\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\")(7, \"div\", 3);\n        i0.ɵɵelement(8, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"form\", 5, 0);\n        i0.ɵɵlistener(\"ngSubmit\", function SupportPage_Template_form_ngSubmit_9_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const submitForm_r2 = i0.ɵɵreference(10);\n          return i0.ɵɵresetView(ctx.submit(submitForm_r2));\n        });\n        i0.ɵɵelementStart(11, \"ion-list\", 6)(12, \"ion-item\")(13, \"ion-label\", 7);\n        i0.ɵɵtext(14, \"Enter your support message below\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-textarea\", 8, 1);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function SupportPage_Template_ion_textarea_ngModelChange_15_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.supportMessage, $event) || (ctx.supportMessage = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"ion-text\", 9)(18, \"p\", 10);\n        i0.ɵɵtext(19, \" Support message is required \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 11)(21, \"ion-button\", 12);\n        i0.ɵɵtext(22, \"Submit\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const supportQuestion_r3 = i0.ɵɵreference(16);\n        i0.ɵɵadvance(15);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.supportMessage);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"hidden\", supportQuestion_r3.valid || ctx.submitted === false);\n      }\n    },\n    dependencies: [i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.NgModel, i2.NgForm, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonMenuButton, i1.IonText, i1.IonTextarea, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor],\n    styles: [\".support-logo[_ngcontent-%COMP%] {\\n  padding: 20px 0;\\n  min-height: 200px;\\n  text-align: center;\\n}\\n\\n.support-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  max-width: 150px;\\n}\\n\\n.list[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc3VwcG9ydC9zdXBwb3J0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuc3VwcG9ydC1sb2dvIHtcbiAgcGFkZGluZzogMjBweCAwO1xuICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uc3VwcG9ydC1sb2dvIGltZyB7XG4gIG1heC13aWR0aDogMTUwcHg7XG59XG5cbi5saXN0IHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  }))();\n}","map":{"version":3,"names":["SupportPage","alertCtrl","toastCtrl","submitted","supportMessage","constructor","ionViewDidEnter","_this","_asyncToGenerator","toast","create","message","duration","present","submit","form","_this2","valid","i0","ɵɵdirectiveInject","i1","AlertController","ToastController","selectors","decls","vars","consts","template","SupportPage_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","SupportPage_Template_form_ngSubmit_9_listener","ɵɵrestoreView","_r1","submitForm_r2","ɵɵreference","ɵɵresetView","ɵɵtwoWayListener","SupportPage_Template_ion_textarea_ngModelChange_15_listener","$event","ɵɵtwoWayBindingSet","ɵɵadvance","ɵɵtwoWayProperty","ɵɵproperty","supportQuestion_r3"],"sources":["/home/nigel/work/safe-space/src/app/pages/support/support.ts","/home/nigel/work/safe-space/src/app/pages/support/support.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\n\nimport { AlertController, ToastController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'page-support',\n  templateUrl: 'support.html',\n  styleUrls: ['./support.scss'],\n})\nexport class SupportPage {\n  submitted = false;\n  supportMessage: string;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController\n  ) { }\n\n  async ionViewDidEnter() {\n    const toast = await this.toastCtrl.create({\n      message: 'This does not actually send a support request.',\n      duration: 3000\n    });\n    await toast.present();\n  }\n\n  async submit(form: NgForm) {\n    this.submitted = true;\n\n    if (form.valid) {\n      this.supportMessage = '';\n      this.submitted = false;\n\n      const toast = await this.toastCtrl.create({\n        message: 'Your support request has been sent.',\n        duration: 3000\n      });\n      await toast.present();\n    }\n  }\n\n  // If the user enters text in the support question and then navigates\n  // without submitting first, ask if they meant to leave the page\n  // async ionViewCanLeave(): Promise<boolean> {\n  //   // If the support message is empty we should just navigate\n  //   if (!this.supportMessage || this.supportMessage.trim().length === 0) {\n  //     return true;\n  //   }\n\n  //   return new Promise((resolve: any, reject: any) => {\n  //     const alert = await this.alertCtrl.create({\n  //       title: 'Leave this page?',\n  //       message: 'Are you sure you want to leave this page? Your support message will not be submitted.',\n  //       buttons: [\n  //         { text: 'Stay', handler: reject },\n  //         { text: 'Leave', role: 'cancel', handler: resolve }\n  //       ]\n  //     });\n\n  //     await alert.present();\n  //   });\n  // }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Support</ion-title>\n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content>\n  <div class=\"support-logo\">\n    <img src=\"assets/img/appicon.svg\" alt=\"Ionic Logo\">\n  </div>\n\n  <form #submitForm=\"ngForm\" novalidate (ngSubmit)=\"submit(submitForm)\">\n    <ion-list lines=\"none\">\n      <ion-item>\n        <ion-label position=\"stacked\" color=\"primary\">Enter your support message below</ion-label>\n        <ion-textarea [(ngModel)]=\"supportMessage\" name=\"supportQuestion\" #supportQuestion=\"ngModel\" rows=\"6\" required></ion-textarea>\n      </ion-item>\n    </ion-list>\n\n    <ion-text color=\"danger\">\n      <p [hidden]=\"supportQuestion.valid || submitted === false\" class=\"ion-padding-start\">\n        Support message is required\n      </p>\n    </ion-text>\n\n    <div class=\"ion-padding\">\n      <ion-button expand=\"block\" type=\"submit\">Submit</ion-button>\n    </div>\n  </form>\n</ion-content>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}