{"ast":null,"code":"import _asyncToGenerator from \"/home/nigel/work/safe-space/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../providers/user-data\";\nimport * as i4 from \"@angular/common\";\nfunction AccountPage_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelement(1, \"img\", 3);\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-list\", 4)(5, \"ion-item\", 5);\n    i0.ɵɵlistener(\"click\", function AccountPage_div_7_Template_ion_item_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.updatePicture());\n    });\n    i0.ɵɵtext(6, \"Update Picture\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\", 5);\n    i0.ɵɵlistener(\"click\", function AccountPage_div_7_Template_ion_item_click_7_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.changeUsername());\n    });\n    i0.ɵɵtext(8, \"Change Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-item\", 5);\n    i0.ɵɵlistener(\"click\", function AccountPage_div_7_Template_ion_item_click_9_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.changePassword());\n    });\n    i0.ɵɵtext(10, \"Change Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-item\", 5);\n    i0.ɵɵlistener(\"click\", function AccountPage_div_7_Template_ion_item_click_11_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.support());\n    });\n    i0.ɵɵtext(12, \"Support\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-item\", 5);\n    i0.ɵɵlistener(\"click\", function AccountPage_div_7_Template_ion_item_click_13_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.logout());\n    });\n    i0.ɵɵtext(14, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.username);\n  }\n}\nexport class AccountPage {\n  alertCtrl;\n  router;\n  userData;\n  username;\n  constructor(alertCtrl, router, userData) {\n    this.alertCtrl = alertCtrl;\n    this.router = router;\n    this.userData = userData;\n  }\n  ngAfterViewInit() {\n    this.getUsername();\n  }\n  updatePicture() {\n    console.log('Clicked to update picture');\n  }\n  // Present an alert with the current username populated\n  // clicking OK will update the username and display it\n  // clicking Cancel will close the alert and do nothing\n  changeUsername() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const alert = yield _this.alertCtrl.create({\n        header: 'Change Username',\n        buttons: ['Cancel', {\n          text: 'Ok',\n          handler: data => {\n            _this.userData.setUsername(data.username);\n            _this.getUsername();\n          }\n        }],\n        inputs: [{\n          type: 'text',\n          name: 'username',\n          value: _this.username,\n          placeholder: 'username'\n        }]\n      });\n      yield alert.present();\n    })();\n  }\n  getUsername() {\n    this.userData.getUsername().then(username => {\n      this.username = username;\n    });\n  }\n  changePassword() {\n    console.log('Clicked to change password');\n  }\n  logout() {\n    this.userData.logout();\n    this.router.navigateByUrl('/login');\n  }\n  support() {\n    this.router.navigateByUrl('/support');\n  }\n  static ɵfac = function AccountPage_Factory(t) {\n    return new (t || AccountPage)(i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserData));\n  };\n  static ɵcmp = (() => /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AccountPage,\n    selectors: [[\"page-account\"]],\n    decls: 8,\n    vars: 1,\n    consts: [[\"slot\", \"start\"], [\"class\", \"ion-padding-top ion-text-center\", 4, \"ngIf\"], [1, \"ion-padding-top\", \"ion-text-center\"], [\"src\", \"https://www.gravatar.com/avatar?d=mm&s=140\", \"alt\", \"avatar\"], [\"inset\", \"\"], [3, \"click\"]],\n    template: function AccountPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n        i0.ɵɵelement(3, \"ion-menu-button\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Account\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\");\n        i0.ɵɵtemplate(7, AccountPage_div_7_Template, 15, 1, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.username);\n      }\n    },\n    dependencies: [i4.NgIf, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonItem, i1.IonList, i1.IonMenuButton, i1.IonTitle, i1.IonToolbar],\n    styles: [\"img[_ngcontent-%COMP%] {\\n  max-width: 140px;\\n  border-radius: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvYWNjb3VudC9hY2NvdW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGtCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbWcge1xuICBtYXgtd2lkdGg6IDE0MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  }))();\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AccountPage_div_7_Template_ion_item_click_5_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","updatePicture","AccountPage_div_7_Template_ion_item_click_7_listener","changeUsername","AccountPage_div_7_Template_ion_item_click_9_listener","changePassword","AccountPage_div_7_Template_ion_item_click_11_listener","support","AccountPage_div_7_Template_ion_item_click_13_listener","logout","ɵɵadvance","ɵɵtextInterpolate","username","AccountPage","alertCtrl","router","userData","constructor","ngAfterViewInit","getUsername","console","log","_this","_asyncToGenerator","alert","create","header","buttons","text","handler","data","setUsername","inputs","type","name","value","placeholder","present","then","navigateByUrl","ɵɵdirectiveInject","i1","AlertController","i2","Router","i3","UserData","selectors","decls","vars","consts","template","AccountPage_Template","rf","ctx","ɵɵtemplate","AccountPage_div_7_Template","ɵɵproperty"],"sources":["/home/nigel/work/safe-space/src/app/pages/account/account.ts","/home/nigel/work/safe-space/src/app/pages/account/account.html"],"sourcesContent":["import { AfterViewInit, Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AlertController } from '@ionic/angular';\n\nimport { UserData } from '../../providers/user-data';\n\n\n@Component({\n  selector: 'page-account',\n  templateUrl: 'account.html',\n  styleUrls: ['./account.scss'],\n})\nexport class AccountPage implements AfterViewInit {\n  username: string;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public router: Router,\n    public userData: UserData\n  ) { }\n\n  ngAfterViewInit() {\n    this.getUsername();\n  }\n\n  updatePicture() {\n    console.log('Clicked to update picture');\n  }\n\n  // Present an alert with the current username populated\n  // clicking OK will update the username and display it\n  // clicking Cancel will close the alert and do nothing\n  async changeUsername() {\n    const alert = await this.alertCtrl.create({\n      header: 'Change Username',\n      buttons: [\n        'Cancel',\n        {\n          text: 'Ok',\n          handler: (data: any) => {\n            this.userData.setUsername(data.username);\n            this.getUsername();\n          }\n        }\n      ],\n      inputs: [\n        {\n          type: 'text',\n          name: 'username',\n          value: this.username,\n          placeholder: 'username'\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  getUsername() {\n    this.userData.getUsername().then((username) => {\n      this.username = username;\n    });\n  }\n\n  changePassword() {\n    console.log('Clicked to change password');\n  }\n\n  logout() {\n    this.userData.logout();\n    this.router.navigateByUrl('/login');\n  }\n\n  support() {\n    this.router.navigateByUrl('/support');\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Account</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div *ngIf=\"username\" class=\"ion-padding-top ion-text-center\">\n    <img src=\"https://www.gravatar.com/avatar?d=mm&s=140\" alt=\"avatar\">\n    <h2>{{username}}</h2>\n\n    <ion-list inset>\n      <ion-item (click)=\"updatePicture()\">Update Picture</ion-item>\n      <ion-item (click)=\"changeUsername()\">Change Username</ion-item>\n      <ion-item (click)=\"changePassword()\">Change Password</ion-item>\n      <ion-item (click)=\"support()\">Support</ion-item>\n      <ion-item (click)=\"logout()\">Logout</ion-item>\n    </ion-list>\n  </div>\n</ion-content>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}